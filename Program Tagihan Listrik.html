<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.rtl.min.css" integrity="sha384-+4j30LffJ4tgIMrq9CwHvn0NjEvmuDCOfk6Rpg2xg7zgOxWWtLtozDEEVvBPgHqE" crossorigin="anonymous" />

    <title>UAS Program Menghitung Biaya Tagihan Listrik</title>
  </head>
  <body>
    <nav class="navbar-dark bg-dark sticky-top">
      <div class="container-fluid" align="center">
        <a class="navbar-brand" href="Program Tagihan Listrik.html"><h3>Menghitung Biaya Tagihan Listrik</h3><h3>PLN BANDUNG</h3></a>
      </div>
    </nav>
    <div class="p-3 mb-2 bg-light text-dark" .bg-info align="center">
      <hr />
      <table border="4">
        <form>
        <tr>
          <td><label>Nama Pelanggan</label></td>
          <td>:
            <input type="text" id="nama">
            </td>
          </td>
        </tr>
        <tr>
          <td><label>Kategori</label></td>
          <td>:
            <select id="kategori">
              <option value="1">Sosial</option>
              <option value="2">Rumah</option>
              <option value="3">Industri</option>
            </select>
            </td>
          </td>
        </tr>
        <tr>
          <td><label>Jumlah Pemakaian Listrik</label></td>
          <td>:
            <input type="text" id="jumlah">
            </td>
          </td>
        </tr>
      </form>
      </table>
      <hr />
      <br />
      <button onclick="hitung()">Proses</button>
      <button onclick="hapus()">Reset</button>
      <br>
      <br>
      <hr>
      <h1>RINCIAN TAGIHAN</h1>
      <table class="table table-stripped">
        <tr>
          <td>Jumlah</td>
          <td>Tarif per KWH</td>
          <td>Abodemen</td>
          <td>Subtotal</td>
        </tr>
        <tr>
          <td id="pemakaian"></td>
          <td id="tarif"></td>
          <td id="abodemen"></td>
          <td id="total"></td>
        </tr>
      </table>
<hr>
<table class="table table-stripped">
  <tr>
    <td>Subtotal</td>
    <td id="total_akhir"></td>>
  </tr>
  <tr>
    <td>Pajak</td>
    <td id="pajak_akhir"></td>>
  </tr>
  <tr>
    <td>Bayar</td>
    <td id="bayar_akhir"></td>>
  </tr>
</table>
      <script>
        function hitung() {
  var kategori = document.getElementById("kategori").value;
  var jumlah = document.getElementById("jumlah").value;

  var pajak;
  if (kategori =="1") {
      pajak = 0;
    } else if (kategori =="2") {
      pajak = 0.1;
    } else if (kategori =="3") {
      pajak = 0.3;}
    
  var j = jumlah;
  var tarif1 = 0;
  var tarif2 = 0;
  var tarif3 = 0;
  var abodemen;
  var subtotal;

  var biaya = "";
  var jumlah_pakai = "";
  var abodemen_akhir = "";
  var total = "";
  for (var p = 1; p <= j; p++) {
    jumlah_pakai += +p + "<br>";
    if (kategori == "1") {
      tarif1 += 300;
      biaya += tarif1 + "<br>";

      abodemen = 10000;
      subtotal = abodemen + tarif1;

      abodemen_akhir += abodemen + "<br>";
      total += subtotal + "<br>";
    } else if (kategori == "2") {
      tarif2 += 500;
      biaya += tarif2 + "<br>";

      abodemen = 30000;
      subtotal = abodemen + tarif2;

      abodemen_akhir += abodemen + "<br>";
      total += subtotal + "<br>";
    } else if (kategori == "3") {
      tarif3 += 1000;
      biaya += tarif3 + "<br>";

      abodemen = 50000;
      subtotal = abodemen + tarif3;

      abodemen_akhir += abodemen + "<br>";
      total += subtotal + "<br>";
    }
    document.getElementById("pemakaian").innerHTML = jumlah_pakai;
    document.getElementById("tarif").innerHTML = biaya;
    document.getElementById("abodemen").innerHTML = abodemen_akhir;
    document.getElementById("total").innerHTML = total;
    if (p == p) {
      document.getElementById("total_akhir").innerHTML = subtotal;
      let totalpajak = pajak * subtotal;
      document.getElementById("pajak_akhir").innerHTML = totalpajak;
      let bayar = totalpajak + subtotal;
      document.getElementById("bayar_akhir").innerHTML = bayar;
    }
  }
}

function hapus() {
  alert("Data sudah direset, Silahkan bisa isi ulang atau klik navbar untuk reload page");
}

      </script>
      <hr>
      <hr />
      <h5>Made by @Jonawawiwawi</h5>
    </div>
  </body>
</html>